<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Camera</title>

        <script src="https://cdn.jsdelivr.net/npm/p5@1.4.2/lib/p5.js"></script>
        <!-- A-Frame core library -->
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

        <!-- AR.js Library -->
        <!-- documentation:  https://ar-js-org.github.io/AR.js-Docs/ -->
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

        <!-- AFrameP5 AR library -->
        <!-- documentation:  https://cs.nyu.edu/~kapp/aframep5-ar -->
        <script src="https://craignyu.github.io/aframep5-ar/libraries/aframep5_ar-v0.4.js"></script>

        <script>
            window.hiroVisCount = 0;

            // create a variable to hold our world object
            let world;

            // create a variable to hold our marker
            let hiroMarker;

            function setup() {
                // create our world (this also creates a p5 canvas for us)
                world = new World('ARScene');

                // grab a reference to the marker that we set up on the HTML side (connect to it using its 'id')
                hiroMarker = world.getMarker('hiro');

                // // create some geometry to add to our marker
                // let cube = new Box({
                //     x: 0,
                //     y: 0.5,
                //     z: 0,
                //     red: 0,
                //     green: 255,
                //     blue: 0,
                //     width: 1,
                //     height: 1,
                //     depth: 1,
                //     opacity: 0.5,
                // });

                // // add the cube to our marker
                // marker.add(cube);
            }

            function draw() {
                if (hiroMarker.isVisible()) {
                    window.hiroVisCount++;
                }
                if (window.hiroVisCount >= 120) {
                    window.addHiro = true;
                    window.hiroVisCount = 0;
                }
            }
        </script>
    </head>
    <body>
        <!-- A-Frame Scene -->
        <a-scene id="ARScene" embedded arjs>
            <!-- markers that we are tracking with a link to the pattern file the AR.js library should be looking for -->
            <a-marker id="hiro" type="pattern" url="markers/patt.hiro"></a-marker>

            <!-- default camera entity (leave this and don't change it) -->
            <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>
